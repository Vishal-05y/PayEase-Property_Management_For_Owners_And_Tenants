{% extends "base/owner_layout.html" %}

{% block title %}Flat Details{% endblock %}

{% block navbar %}
<a href="{% url 'ownerDashboard' %}" class="text-white hover:text-cyan-300">Dashboard</a>
<a href="{% url 'addBuilding' %}" class="text-white hover:text-cyan-300">Add Building</a>
<a href="{% url 'logoutOwner' %}">
    <button class="px-4 py-2 bg-red-700 text-white rounded">Logout</button>
</a>
{% endblock %}

{% block content %}

<!-- Top Header Section -->
<div class="flex items-center justify-between mb-10">
    
    <!-- Left: Building + Flat Info -->
    <div>
        <h1 class="text-4xl font-extrabold text-cyan-900 tracking-tight">
            {{ flat.building.name }}
        </h1>

        <p class="text-xl text-gray-700 mt-2">
            Flat <span class="font-semibold">{{ flat.flat_number }}</span>  
            {{ flat.flat_type }}
        </p>
    </div>

    <!-- Right: Action Buttons -->
    <div class="space-x-2">
        <a href="{% url 'removeTenant' flat.building.id flat.id %}">
            <button class="px-5 py-2.5 bg-red-400 text-white rounded-lg shadow hover:bg-red-600 transition font-semibold">
                Remove Tenant
            </button>
        </a>
        <a href="{% url 'addTenant' flat.building.id flat.id %}">
            <button class="px-5 py-2.5 bg-cyan-700 text-white rounded-lg shadow hover:bg-cyan-900 transition font-semibold">
                Add Tenant
            </button>
        </a>

        <a href="{% url 'pastTenants' flat.building.id flat.id %}">
            <button class="px-5 py-2.5 bg-gray-700 text-white rounded-lg shadow hover:bg-gray-900 transition font-semibold">
                View Past Tenants
            </button>
        </a>
    </div>
</div>

<!-- Tenant Section -->
{% if tenant %}

<h2 class="text-3xl font-bold text-cyan-900 text-center mb-8">
    Tenant Details
</h2>

<!-- Centered Tenant Card -->
<div class="max-w-2xl mx-auto bg-white border border-cyan-200 rounded-2xl shadow-md p-8 space-y-6">

    <!-- Tenant Name -->
    <div>
        <p class="text-sm font-semibold text-cyan-700 uppercase tracking-wide">Tenant Name</p>
        <p class="text-xl font-bold text-gray-900 mt-1">{{ tenant.name }}</p>
    </div>

    <!-- Phone -->
    <div>
        <p class="text-sm font-semibold text-cyan-700 uppercase tracking-wide">Phone</p>
        <p class="text-lg text-gray-800 mt-1">{{ tenant.phone }}</p>
    </div>

    <!-- Flat Type -->
    <div>
        <p class="text-sm font-semibold text-cyan-700 uppercase tracking-wide">Flat Type</p>
        <p class="text-lg text-gray-800 mt-1">{{ flat.flat_type }}</p>
    </div>

    <!-- Rent -->
    <div>
        <p class="text-sm font-semibold text-cyan-700 uppercase tracking-wide">Monthly Rent</p>
        <p class="text-2xl font-bold text-cyan-900 mt-1">â‚¹ {{ tenant.flat_price }}</p>
    </div>

    <!-- Payment History Button -->
    <!-- Payment History Button -->
    <a href="{% url 'tenantPaymentHistory' flat.building.id flat.id %}">
        <button class="px-6 py-3 w-full bg-cyan-700 text-white rounded-lg shadow hover:bg-cyan-800 transition font-semibold">
            Payment History
        </button>
    </a>
</div>

{% else %}

<!-- If No Tenant -->
<p class="text-center text-gray-600 mt-10 text-lg">No tenants added yet.</p>

{% endif %}

{% endblock %}

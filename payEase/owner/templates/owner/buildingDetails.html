{% extends "base/owner_layout.html" %}

{% block title %}Building Details{% endblock %}

{% block content %}

<h1 class="text-3xl font-bold text-cyan-900 mb-4">{{ building.name }}</h1>

<p class="text-gray-700 mb-6">
    Address: {{ building.address }} <br>
    Cost: â‚¹{{ building.cost }}
</p>

<!-- Add Flat Button -->
<a href="{% url 'addFlat' building.id %}">
    <button class="px-6 py-2 bg-cyan-700 text-white rounded-lg shadow hover:bg-cyan-900 transition font-semibold">
        + Add Flat
    </button>
</a>

<h2 class="text-2xl font-bold text-cyan-900 mt-8 mb-4">Flats</h2>

{% if building.flats.all %}
    {% for flat in building.flats.all %}
        <div class="p-4 bg-cyan-100 border border-cyan-300 rounded-lg mb-4">

            <h3 class="text-xl font-semibold text-cyan-800">
                Flat {{ flat.flat_number }} ({{ flat.flat_type }})
            </h3>

            <a href="{% url 'flatDetails' building.id flat.id %}">
                <button class="mt-3 px-4 py-2 bg-cyan-700 text-white rounded hover:bg-cyan-800 transition">
                    View Flat
                </button>
            </a>

        </div>
    {% endfor %}
{% else %}
    <p>No flats added yet.</p>
{% endif %}

{% endblock %}

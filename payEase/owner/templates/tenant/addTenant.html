{% extends "building/buildingDetails.html" %}

{% block title %}Add Tenant{% endblock %}


{% block back %}
<a href="{% url 'flatDetails' flat.building.id flat.id %}" class="text-accent transition">Back</a>
{% endblock %}


{% block content %}
<h2 class="text-3xl font-extrabold text-center text-primary mb-2">
    Add Tenant
</h2>

<p class="text-center text-muted mb-8">
    Flat <strong class="text-primary">{{ flat.flat_number }}</strong> ({{ flat.flat_type }})
</p>


<!-- FORM CARD -->
<div class="max-w-xl mx-auto rounded-2xl p-10 bg-card border-dark">

    <form method="POST" class="space-y-6">
        {% csrf_token %}

        <!-- Tenant Name -->
        <div class="flex flex-col space-y-1">
            <label class="font-semibold text-muted">Tenant Name</label>

            <input type="text" name="name"
                   value="{{ form.name.value|default_if_none:'' }}"
                   placeholder="Enter tenant name"
                   class="rounded-lg p-3 w-full transition border-dark text-primary"
                   style="background: var(--bg-card);"
                   onfocus="this.style.border='1px solid var(--accent-cyan)'"
                   onblur="this.style.border='1px solid var(--border-dark)'"
                   required>
        </div>

        <!-- Phone -->
        <div class="flex flex-col space-y-1">
            <label class="font-semibold text-muted">Phone Number</label>

            <input type="text" name="phone"
                   value="{{ form.phone.value|default_if_none:'' }}"
                   placeholder="Enter phone number"
                   class="rounded-lg p-3 w-full transition border-dark text-primary"
                   style="background: var(--bg-card);"
                   onfocus="this.style.border='1px solid var(--accent-cyan)'"
                   onblur="this.style.border='1px solid var(--border-dark)'"
                   required>
        </div>

        <!-- Error -->
        {% if form.phone.errors %}
        <div class="p-4 rounded-lg font-medium"
             style="background: rgba(244, 63, 94, 0.15);
                    border: 1px solid var(--btn-red);
                    color: var(--btn-red);">
            {{ form.phone.errors.0 }}
        </div>
        {% endif %}


        <!-- Rent -->
        <div class="flex flex-col space-y-1">
            <label class="font-semibold text-muted">Monthly Rent</label>

            <input type="number" name="flat_price"
                   value="{{ form.flat_price.value|default_if_none:'' }}"
                   placeholder="Enter monthly rent"
                   class="rounded-lg p-3 w-full transition border-dark text-primary"
                   style="background: var(--bg-card);"
                   onfocus="this.style.border='1px solid var(--accent-cyan)'"
                   onblur="this.style.border='1px solid var(--border-dark)'"
                   required>
        </div>

        <!-- Submit Button -->
        <button type="submit"
                class="w-full py-3 rounded-xl font-semibold shadow btn-blue transition">
            Save Tenant
        </button>

    </form>

</div>

{% endblock %}

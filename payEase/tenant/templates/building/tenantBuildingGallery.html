{% extends "base/tenant_layout.html" %}

{% block title %}Building Gallery{% endblock %}

{% block navbar %}
<a href="{% url 'tenantDashboard' %}" class="hover-accent transition">Dashboard</a>
<a href="{% url 'logoutTenant' %}">
    <button class="px-2 py-1 btn-red rounded transition">Logout</button>
</a>
{% endblock %}

{% block content %}
<!-- Title -->
<h1 class="text-4xl font-extrabold text-primary mt-4 mb-8 text-center">
    {{ building.name }} — Gallery
</h1>

<!-- Gallery Container -->

    {% if images %}
    <!-- LARGE IMAGE SLIDER -->
    <div class="relative w-full h-96 rounded-xl overflow-hidden shadow-lg">

        <img id="sliderLargeImage"
             src="{{ images.0.image.url }}"
             class="w-full h-full object-contain bg-black rounded-xl">

        <!-- PREVIOUS BUTTON -->
        <button onclick="prevSlide()"
            class="absolute left-3 top-1/2 -translate-y-1/2 
                   bg-black bg-opacity-40 text-white px-4 py-2 text-3xl rounded-full
                   hover:bg-opacity-70 transition">
            ❮
        </button>

        <!-- NEXT BUTTON -->
        <button onclick="nextSlide()"
            class="absolute right-3 top-1/2 -translate-y-1/2 
                   bg-black bg-opacity-40 text-white px-4 py-2 text-3xl rounded-full
                   hover:bg-opacity-70 transition">
            ❯
        </button>

    </div>

    {% else %}
        <p class="text-muted text-center text-lg">No images available.</p>
    {% endif %}


<!-- JS for Slider -->
<script>
let sliderImages = [
    {% for img in images %}
        "{{ img.image.url }}",
    {% endfor %}
];

let sliderIndex = 0;

function updateLarge() {
    document.getElementById("sliderLargeImage").src = sliderImages[sliderIndex];
}

function nextSlide() {
    sliderIndex = (sliderIndex + 1) % sliderImages.length;
    updateLarge();
}

function prevSlide() {
    sliderIndex = (sliderIndex - 1 + sliderImages.length) % sliderImages.length;
    updateLarge();
}
</script>

{% endblock %}
